"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8818],{8818:(T,u,s)=>{s.r(u),s.d(u,{ServicesListModule:()=>C});var o=s(9808),v=s(3075),n=s(8058),p=s(4040),h=s(1456),g=s(8995),l=s(1216),e=s(5e3),f=s(5539),m=s(4726);function b(i,r){1&i&&e._UZ(0,"div")}function S(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",8),e.NdJ("click",function(){const d=e.CHM(t).$implicit,k=e.oxw();return e.KtG(k.selectService(d))}),e.TgZ(1,"div")(2,"div",9),e.YNc(3,b,1,0,"div",10),e.qZA()(),e.TgZ(4,"div")(5,"p",11),e._uU(6),e.qZA(),e.TgZ(7,"p",12),e._uU(8),e.qZA()()()}if(2&i){const t=r.$implicit;e.ekj("active",t.selected),e.xp6(3),e.Q6J("ngIf",t.selected),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.hij("\u0426\u0435\u043d\u0430: ",t.price_uzs," \u0441\u0443\u043c")}}function x(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",!t.selectedPrice||t.loading),e.xp6(1),e.Oqu(e.lcZ(2,2,"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c"))}}const P=[{path:"",component:(()=>{class i{constructor(t,c,a,d){this.authService=t,this.iab=c,this.router=a,this.navCtrl=d,this.loading=!1,this.alpha_balance=0}ngOnInit(){this.getServiceList(),this.getAlphaBalance()}getServiceList(){this.authService.getServicesList().subscribe(t=>{t.status&&(this.services=t.data,this.selectedPrice=this.services[0],this.services[0].selected=!0)})}getAlphaBalance(){this.authService.getAlhpaBalance(this.authService.currentUser.id).subscribe(t=>{t.status&&(this.alpha_balance=t.total_balance)})}selectService(t){this.services.forEach(c=>c.selected=!1),t.selected=!0,this.selectedPrice=t}submit(){if(this.loading=!0,0==this.selectedPrice.price_uzs)this.loading=!1,this.authService.freeService({user_id:this.authService.currentUser.id,services_id:this.selectedPrice.id,price_uzs:this.selectedPrice.price_uzs,price_kzs:this.selectedPrice.price_kzs,rate:this.selectedPrice.rate}).subscribe(c=>{c.status&&(this.loading=!1,this.authService.alert("\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0430 !",""),this.router.navigate(["/tabs/home"]))},c=>{this.loading=!1,this.authService.alert("\u041e\u0448\u0438\u0431\u043a\u0430",c.error.error)});else{this.loading=!1;let t=btoa("m=65dc59df3c319dec9d8c3953;ac.UserID="+this.authService.currentUser.id+";a="+this.selectedPrice.price_uzs+"00");this.iab.create("https://checkout.paycom.uz/"+t,"_system")}}back(){this.navCtrl.back()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.$),e.Y36(m.i),e.Y36(l.F0),e.Y36(n.SH))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-services-list"]],decls:14,vars:5,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],[1,"wrapper-fluid","ion-padding-tabs"],[1,"body-wrap","form-block"],["class","price-card",3,"active","click",4,"ngFor","ngForOf"],["class","reg-btn","style","background-color: rgba(255, 113, 0, 1); margin-top: 20px;",3,"disabled","click",4,"ngIf"],[1,"price-card",3,"click"],[1,"radio"],[4,"ngIf"],[1,"month-text"],[1,"price-text"],[1,"reg-btn",2,"background-color","rgba(255, 113, 0, 1)","margin-top","20px",3,"disabled","click"]],template:function(t,c){1&t&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return c.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content")(10,"div",4)(11,"div",5),e.YNc(12,S,9,5,"div",6),e.YNc(13,x,3,4,"button",7),e.qZA()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,3,"\u0423\u0441\u043b\u0443\u0433\u0438 Tirgo Service")),e.xp6(6),e.Q6J("ngForOf",c.services),e.xp6(1),e.Q6J("ngIf",c.services))},dependencies:[o.sg,o.O5,n.W2,n.Gu,g.X$],styles:[".price-card[_ngcontent-%COMP%]{display:flex;align-items:center;border:2px solid #ccc;border-radius:10px;padding:10px;width:100%;gap:20px;margin:5px 0}.radio[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:30px;width:30px;background-color:#ccc;border-radius:50%}.radio[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:15px;height:15px;border-radius:50%;background-color:#ff7100}.price-card.active[_ngcontent-%COMP%]{border:3px solid rgb(255,113,0)}"]}),i})()}];let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.Bz.forChild(P),l.Bz]}),i})();var Z=s(1059);let C=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[o.ez,v.u5,n.Pc,L,p.l,h.h,g.aw,Z.HeaderPageModule]}),i})()}}]);