"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1493],{1493:(A,d,o)=>{o.r(d),o.d(d,{SupportPageModule:()=>b});var i=o(9808),r=o(3075),u=o(8058),g=o(1216),h=o(7582),e=o(5e3),f=o(5539),c=o(4040),v=o(2217),m=o(8995);function S(t,a){if(1&t&&(e.ynx(0),e.TgZ(1,"div",15)(2,"p",16),e._uU(3),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.ALo(6,"formatTime"),e.qZA()(),e.BQk()),2&t){const n=a.$implicit;e.xp6(1),e.Q6J("ngClass",n.user_admin_id?"support-message":"user-message"),e.xp6(2),e.Oqu(n.text),e.xp6(2),e.Oqu(e.xi3(6,3,n.date,"DD MMMM YYYY \u0432 HH:mm"))}}const Z=[{path:"",component:(()=>{class t{constructor(n,s){this.authService=n,this.navCtrl=s,this.message="",this.disablebuttonsend=!1}ngOnInit(){}back(){this.navCtrl.back()}doRefresh(n){return(0,h.mG)(this,void 0,void 0,function*(){this.authService.messages=yield this.authService.getMessages().toPromise(),setTimeout(()=>{n.target.complete()},1e3)})}sendMessage(){this.disablebuttonsend=!0,this.authService.sendMessage(this.message).toPromise().then(n=>{this.authService.messages.push(n.data),this.disablebuttonsend=!1,this.message=""}).catch(n=>{this.authService.alert("\u0423\u043f\u0441","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435")})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(f.$),e.Y36(u.SH))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-support"]],decls:23,vars:13,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],["slot","fixed","pullFactor","1","pullMin","100","pullMax","200",3,"ionRefresh"],["pullingIcon","arrow-dropdown","refreshingSpinner","circles",1,"loadingspinner"],[1,"wrapper-fluid"],[1,"body-have-bottom-menu","ion-padding"],[4,"ngFor","ngForOf"],[1,"bottom-wrap","input-chat-support"],[1,"bottom-menu","support-input"],["type","text",3,"disabled","placeholder","ngModel","ngModelChange"],[3,"disabled","click"],["src","assets/img/arrow-right2.svg","alt",""],[1,"hidden-block-chat"],[3,"ngClass"],[1,"ion-no-margin","ion-no-padding"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),e.NdJ("click",function(){return s.back()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"h2"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"div"),e.qZA()()(),e.TgZ(9,"ion-content")(10,"ion-refresher",4),e.NdJ("ionRefresh",function(l){return s.doRefresh(l)}),e._UZ(11,"ion-refresher-content",5),e.qZA(),e.TgZ(12,"div",6)(13,"div",7),e.YNc(14,S,7,6,"ng-container",8),e.ALo(15,"orderBy"),e.qZA(),e.TgZ(16,"div",9)(17,"nav",10)(18,"input",11),e.NdJ("ngModelChange",function(l){return s.message=l}),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"button",12),e.NdJ("click",function(){return s.sendMessage()}),e._UZ(21,"img",13),e.qZA()()(),e._UZ(22,"div",14),e.qZA()()),2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,6,"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438")),e.xp6(8),e.Q6J("ngForOf",e.xi3(15,8,s.authService.messages,"created_at")),e.xp6(4),e.s9C("placeholder",e.lcZ(19,11,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),e.Q6J("disabled",s.disablebuttonsend)("ngModel",s.message),e.xp6(2),e.Q6J("disabled",s.disablebuttonsend))},dependencies:[i.mk,i.sg,r.Fj,r.JJ,r.On,u.W2,u.Gu,u.nJ,u.Wo,c.T,v.Q,m.X$]}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.Bz.forChild(Z),g.Bz]}),t})();var P=o(1456);let b=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[i.ez,r.u5,u.Pc,M,c.l,P.h,m.aw]}),t})()}}]);