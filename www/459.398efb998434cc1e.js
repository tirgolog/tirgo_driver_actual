"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[459],{459:(C,d,n)=>{n.r(d),n.d(d,{NotifyPageModule:()=>M});var s=n(9808),f=n(3075),a=n(8058),l=n(1216),r=n(7582),v=n(9116),t=n(5e3),h=n(5539),p=n(2217),g=n(8995);function m(e,u){1&e&&(t.TgZ(0,"div",9),t._UZ(1,"ion-icon",10),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&e&&(t.xp6(3),t.hij("",t.lcZ(4,1,"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043d\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"),"."))}function y(e,u){if(1&e){const i=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"ion-button",13),t.NdJ("click",function(){t.CHM(i);const c=t.oxw();return t.KtG(c.goToVerification())}),t._uU(3),t.ALo(4,"translate"),t.qZA()()()}2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"\u041f\u0440\u043e\u0439\u0442\u0438 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e")," "))}function P(e,u){if(1&e&&(t.TgZ(0,"div",11)(1,"p",14),t._uU(2),t.ALo(3,"formatTime"),t.qZA(),t.TgZ(4,"div",12)(5,"div",15)(6,"div",16)(7,"h4"),t._uU(8),t.qZA(),t.TgZ(9,"span"),t._uU(10),t.qZA()()()()()),2&e){const i=u.$implicit;t.xp6(2),t.Oqu(t.xi3(3,3,i.date,"DD MMMM YYYY \u0432 HH:mm")),t.xp6(6),t.hij("",i.header," "),t.xp6(2),t.Oqu(i.text)}}const Z=[{path:"",component:(()=>{class e{constructor(i,o,c,T){this.navCtrl=i,this.authService=o,this.router=c,this.alertController=T,this.Date=(new Date).toLocaleDateString()}ngOnInit(){this.checkSession()}back(){this.navCtrl.back()}checkSession(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.authService.checkSession().toPromise().then(i=>(0,r.mG)(this,void 0,void 0,function*(){i.status?(console.log(i.user),this.authService.currentUser=new v.n(i.user)):(this.authService.authenticationState.next(!1),yield this.router.navigate(["selectlanguage"],{replaceUrl:!0}))})).catch(i=>(0,r.mG)(this,void 0,void 0,function*(){this.authService.authenticationState.next(!1),yield this.router.navigate(["selectlanguage"],{replaceUrl:!0})}))})}viewNotify(i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.router.navigate(["/notify/notifyview/"+i])})}returnMinText(i){return i.substr(0,20)+"..."}presentActionSheet(){return(0,r.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u044b \u043f\u0440\u043e\u0448\u043b\u0438 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e!",subHeader:"\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0432\u0435\u0440\u0448\u0430\u0442\u044c \u201c\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0435 \u0441\u0434\u0435\u043b\u043a\u0438\u201d",message:'<img src="../../assets/img/medium-verification.png"  style="width: 100%;">',cssClass:"custom-alert",buttons:[{text:"OK",cssClass:"icon-alert-button",handler:()=>{console.log("OK clicked")}}]})).present()})}goToVerification(){return(0,r.mG)(this,void 0,void 0,function*(){yield this.router.navigate(["/verification"])})}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(a.SH),t.Y36(h.$),t.Y36(l.F0),t.Y36(a.Br))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-notify"]],decls:15,vars:6,consts:[[1,"wrapper-fluid-header"],[1,"logo-wrap","personal-head"],[1,"top-back",3,"click"],["src","assets/img/arrow-left.svg","alt",""],["class","noItem",4,"ngIf"],[1,"wrapper-fluid"],[1,"body-wrap","body-have-bottom-menu"],["class","notice-item",4,"ngIf"],["class","notice-item",4,"ngFor","ngForOf"],[1,"noItem"],["src","assets/img/wrong.svg"],[1,"notice-item"],[1,"notice-wrap"],["expand","full",3,"click"],[1,"notece-date"],[1,"notice-row"],[1,"notice-excerpt"]],template:function(i,o){1&i&&(t.TgZ(0,"ion-header")(1,"div",0)(2,"div",1)(3,"button",2),t.NdJ("click",function(){return o.back()}),t._UZ(4,"img",3),t.qZA(),t.TgZ(5,"h2"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"div"),t.qZA()()(),t.TgZ(9,"ion-content"),t.YNc(10,m,5,3,"div",4),t.TgZ(11,"div",5)(12,"div",6),t.YNc(13,y,5,3,"div",7),t.YNc(14,P,11,6,"div",8),t.qZA()()()),2&i&&(t.xp6(6),t.Oqu(t.lcZ(7,4,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")),t.xp6(4),t.Q6J("ngIf",o.authService.notifications&&0===o.authService.notifications.length),t.xp6(3),t.Q6J("ngIf",0==(null==o.authService||null==o.authService.currentUser?null:o.authService.currentUser.send_verification)&&0==o.authService.currentUser.driver_verification),t.xp6(1),t.Q6J("ngForOf",o.authService.notifications))},dependencies:[s.sg,s.O5,a.YG,a.W2,a.Gu,a.gu,p.Q,g.X$],styles:[".card-alert[_ngcontent-%COMP%]{padding:0;margin:0;height:100px;width:100px}ion-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{order:1}ion-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{order:2}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),e})();var N=n(1456);let M=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,f.u5,a.Pc,S,N.h,g.aw]}),e})()}}]);